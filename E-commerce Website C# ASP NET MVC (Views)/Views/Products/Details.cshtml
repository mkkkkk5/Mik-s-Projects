@model WhatsInMyBag.Models.Product

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>Product</h4>
    <hr />
    @{var image = Html.DisplayFor(model => Model.Name) + ".jpg";}
    <img src="~/Content/Images/@image" style="width:50%;height:600px;" />

    <hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Price)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

    </dl>

</div>


<br />
<h2>Reviews</h2>
<table>
    <tr>
        <th>Review</th>
        <th>Rating</th>
    </tr>
    @foreach (var x in ViewBag.review)
    {
        <tr>
            <td>@x.Review1</td>
            <td>
                <div class="progress" style="width:800px;">
                    @{
                        double rate = x.Rating;
                        double percent = (rate / 5) * 100;
                    }
                    <div class="progress-bar" role="progressbar" style="width:@percent%" aria-valuenow="@percent" aria-valuemin="0" aria-valuemax="100"></div>
                    @rate  /5
                </div>

            </td>
        </tr>
    }
</table>
<p>
    @if (User.Identity.Name == "admin1@admin1.com")
    {
        @Html.ActionLink("Edit |", "Edit", new { id = Model.Id })
    }
    @Html.ActionLink("Back to List", "Index")
</p>
